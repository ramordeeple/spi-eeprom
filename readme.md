# SPI EEPROM / NOR Flash Driver

## Описание

Проект представляет собой реализацию C++ драйверов для энергонезависимой памяти с интерфейсом SPI при работе через абстрактный битбанг-драйвер (bit-banging).

Реализованы:

* драйвер EEPROM памяти **Microchip 25LC040A**
* заготовка драйвера NOR Flash памяти **Winbond W25Q128** (для демонстрации отличий архитектуры)
* абстрактный интерфейс SPI (`ISpiDriver`)
* абстрактный интерфейс памяти (`IMemory`)
* тесты без реального оборудования с использованием заглушки `MockBitBangSpi`

Все публичные методы и ключевые элементы документированы в формате **Doxygen**.

## Возможности EEPROM драйвера

Класс `Eeprom25LC040A` поддерживает:

* чтение одного байта по адресу
* запись одного байта по адресу
* чтение массива байт
* запись массива байт

Особенности работы EEPROM:

* перед каждой записью отправляется команда **Write Enable (0x06)**
* после записи выполняется ожидание завершения операции через опрос статусного регистра (**WIP бит**)
* адрес передаётся одним байтом (используется младший байт адреса)

## Отличия при работе с NOR Flash (W25Q128)

Для NOR Flash требуется другая логика записи:

* перед записью необходимо стирание сектора (обычно 4 КБ)
* запись выполняется страницами по 256 байт (Page Program)
* используется 3-байтный адрес
* требуется отдельное ожидание готовности после стирания и программирования

В проекте показан отдельный класс `NorFlashW25Q128`, демонстрирующий эту архитектурную разницу при сохранении общего интерфейса `IMemory`.

## Тестирование без оборудования

Класс `MockBitBangSpi` имитирует работу SPI:

* фиксирует все операции `select`, `transfer`, `deselect` в лог
* позволяет увидеть последовательность отправленных байт и команд

Тесты проверяют:

* запись одного байта
* чтение одного байта
* запись и чтение массива байт

Результатом запуска является печать последовательности SPI-команд, что позволяет визуально проверить корректность протокола обмена с памятью.

## Используемые инструменты

Проект собирается и тестируется с использованием:

* стандарта языка **C++ 20**
* системы сборки **CMake версии 3.15 и выше**
